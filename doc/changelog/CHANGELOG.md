# Changelog

所有值得注意的更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [1.1.1] - 2025-12-30

### 新增

- **Logo显示逻辑优化**: 统一从balance.ts配置文件中获取logo资源
  - 在ConfigManager和StatusPanel组件中使用`balanceList.find()`动态获取logo
  - 改进logo容器的样式设计，添加渐变背景和悬停效果

### 更改

- **资源导入优化**: 将balance.ts中的logo路径改为import语句
  - 支持所有厂商logo：DeepSeek、Moonshot、欧派云、AIHubMix、OpenRouter、VolcEngine
  - 提高构建时的资源处理效率
- **UI组件优化**: 增强ConfigManager和StatusPanel组件的视觉效果
  - 添加渐变背景、光泽效果和悬停动画
  - 改进边框、阴影和毛玻璃效果

### 移除

- **冗余文档清理**: 删除`src/renderer/src/config/balance.md`文档文件
  - 该文件包含各厂商API文档，已不再需要
  - 减少项目体积，简化代码结构

## [1.1.0] - 2025-12-29

### 新增

- **策略模式解析器架构**: 全面重构余额解析器系统
  - 引入策略模式设计，支持灵活添加新厂商解析器
  - 新增 `BalanceParserFactory` 工厂类，统一管理解析器实例
  - 标准化解析器接口，提高代码一致性
- **共享类型定义**: 新增 `src/shared/parser-types.ts` 文件
  - 定义标准化的解析器接口和类型
  - 提供跨进程共享的类型定义
  - 增强类型安全性

### 重构

- **文件结构优化**: 重命名 `balace.ts` → `balance.ts`，修正拼写错误
- **解析器逻辑重构**: 大幅简化解析器配置组件代码
  - 从433行减少到更简洁的实现
  - 提高代码可读性和维护性
- **类型定义优化**: 改进TypeScript类型定义，增强类型安全性
- **配置适配器改进**: 优化配置数据转换逻辑

### 性能

- **代码精简**: 删除704行冗余代码，新增140行优化代码
- **内存优化**: 减少不必要的对象创建和状态管理
- **构建优化**: 更新TypeScript配置，提高编译效率

## [1.0.8] - 2025-12-29

### 新增

- **策略模式解析器架构**: 实现基于策略模式的余额解析器系统
  - 添加 `BalanceParserFactory` 工厂类管理解析器
  - 添加多个厂商解析器：DeepSeek、Moonshot、AIHubMix、OpenRouter、VolcEngine
  - 添加 `BalanceMonitorService` 监控服务
- **类型定义**: 新增标准化余额接口和解析器接口

### 改进

- **代码结构**: 将解析逻辑从主进程分离到独立的服务模块
- **可扩展性**: 支持通过策略模式轻松添加新厂商解析器
- **错误处理**: 改进监控服务的错误处理机制

### 更改

- **版本**: 更新 `package.json` 版本从 1.0.7 到 1.0.8
- **文件位置**: 将解析相关代码移动到 `src/renderer/src/services/balance/` 目录

## [1.0.7] - 2025-12-28

### 新增

- **文档**: 添加中文文档 (`README_CN.md`)
- **截图**: 添加应用程序截图到 `doc/images/` 目录
  - `dashboard.png` - 仪表盘界面
  - `service_config.png` - 服务配置界面
  - `log.png` - 日志查看界面
- **文档更新**: 在英文README中添加截图部分和中文文档链接

### 更改

- **版本**: 更新 `package.json` 版本从 1.0.6 到 1.0.7
- **CLAUDE.md**: 添加更新记录与Changelog规范章节

## [1.0.6] - 2025-12-28

### 更改

- **版本**: 更新 `package.json` 版本从 1.0.5 到 1.0.6

## [1.0.5] - 2025-12-28

### 新增

- **UI优化**: 仪表盘阈值和删除对话框优化

### 更改

- **版本**: 更新 `package.json` 版本从 1.0.4 到 1.0.5

## [1.0.4] - 2025-12-28

### 新增

- **配置文件管理**: 改进配置加密/解密逻辑
- **监控状态同步**: 修复配置启用/禁用状态切换时的监控状态同步问题
- **API配置架构**: 集成Zustand store，同步API表单状态到全局状态
- **UI/UX优化**: 仪表盘仅显示启用监控的配置状态
- **余额解析器**: 优化预设模板选择和切换逻辑

### 修复

- **状态一致性**: 确保配置文件状态与监控调度器状态保持一致
- **测试流程**: 简化API测试验证流程

### 更改

- **代码格式化**: 统一代码风格，移除代码尾部逗号
- **导航结构**: 移除测试标签页，保留核心功能标签
- **版本**: 更新 `package.json` 版本从 1.0.3 到 1.0.4

## [1.0.3] - 2025-12-28

### 新增

- **初始版本**: Balance Monitor桌面应用程序
- **核心功能**: API监控、智能解析、系统托盘通知
- **多配置支持**: 支持多个API配置和轻松切换
- **实时测试**: 内置API连接测试和解析器验证
- **日志管理**: 完整的日志系统带查看界面
- **跨平台**: 支持Windows、macOS和Linux

### 技术栈

- Electron 39.2.6 + electron-vite
- React 19.2.1 + TypeScript
- TailwindCSS 4.1.18

---

## 更新类型说明

### 新增 (Added)

新功能。

### 更改 (Changed)

现有功能的变更。

### 弃用 (Deprecated)

即将移除的功能。

### 移除 (Removed)

已移除的功能。

### 修复 (Fixed)

bug修复。

### 安全 (Security)

安全相关更新。
